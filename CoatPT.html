<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>上衣原型</title>
  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB" crossorigin="anonymous">
<link rel="stylesheet" href="content/css/math.css"/>
 </head>
 <body>
	<div class="alert alert-primary alert-dismissible fade show text-center" role="alert">
	  <strong>上衣原型 计算器</strong>
	  <small class="text-muted">160/68A</small>
	  <button type="button" class="close" data-dismiss="alert" aria-label="Close">
	    <span aria-hidden="true">&times;</span>
	  </button>
	</div>
	<div class="container">
		<form novalidate>
			<div class="form-row">
				<div class="col">
					<table class="table table-sm table-hover">
						<thead>
							<tr>
								<th scope="col">#</th>
								<th scope="col">中文</th>
								<th scope="col">英文</th>
								<th scope="col">值</th>								
								<th scope="col">松量（值）</th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<th scope="row">1</th>
								<td>领围</td>
								<td>N</td>
								<td>
									<input id="N" name="N" type="number" class="form-control-sm" value="33">
									<span class="text-danger">*</span>
								</td>
								<td>
									<input id="NLS" name="NLS" type="number" class="form-control-sm is-invalid" value="4">
									<span class="text-danger">*</span>
								</td>
							</tr>
							<tr>
								<th scope="row">2</th>
								<td>胸围</td>
								<td>B</td>
								<td>
									<input id="B" name="B" type="number" class="form-control-sm is-valid" value="84">
									<span class="text-danger">*</span>
								</td>
								<td>
									<input id="BLS" name="BLS" type="number" class="form-control-sm is-valid" value="6">
									<span class="text-danger">*</span>
								</td>
							</tr>
							<tr>
								<th scope="row">3</th>
								<td>腰围</td>
								<td>W</td>
								<td>
									<input id="W" name="W" type="number" class="form-control-sm is-valid" value="68">
									<span class="text-danger">*</span>
								</td>
								<td>
									<input id="WLS" name="WLS" type="number" class="form-control-sm is-valid" value="4">
									<span class="text-danger">*</span>
								</td>
							</tr>							
							<tr>
								<th scope="row">4</th>
								<td>肩宽</td>
								<td>S</td>
								<td>
									<input id="S" name="S" type="number" class="form-control-sm is-valid" value="37">
									<span class="text-danger">*</span>
								</td>
								<td>
								</td>
							</tr>
							<tr>
								<th scope="row">5</th>
								<td>前腰节</td>
								<td>FWL</td>
								<td>
									<input id="FWL" name="FWL" type="number" class="form-control-sm">
								</td>
								<td>
								</td>
							</tr>
							<tr>
								<th scope="row">6</th>
								<td>后腰节</td>
								<td>BL</td>
								<td>
									<input id="BL" name="BL" type="number" class="form-control-sm">
								</td>
								<td>
								</td>
							</tr>
							<tr>
								<th scope="row">7</th>
								<td>乳胸点</td>
								<td>BP</td>
								<td>
									<input id="BP" name="BP" type="number" class="form-control-sm">
								</td>
								<td class="table-info">
									<input id="BP2" name="BP2" type="number" class="form-control-sm">
								</td>
							</tr>
							<tr>
								<th scope="row">8</th>
								<td>袖长</td>
								<td>SL</td>
								<td>
									<input id="SL" name="SL" type="number" class="form-control-sm">
								</td>
								<td>
								</td>
							</tr>
							<tr>
								<td colspan="5" class="text-center">
									<button type="button" id="Math" class="btn btn-info btn-sm">公式计算</button>
								</td>
							</tr>
						</tbody>
					</table>
				</div>
				<div class="col">
					<table class="table table-sm table-hover">
						<thead>
							<tr>
								<th scope="col">#</th>
								<th scope="col">名称</th>
								<th scope="col">公式</th>
								<th scope="col">值</th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<th scope="col">1</th>
								<td>领宽</td>
								<td>
									<div equation>
							            <div fraction>
										    <div top>
										        2N
										    </div>
										    <div bottom>
										        10
										    </div>
										</div>
										<div subtract>0.5</div>
							        </div>						        
								</td>
								<td><span id="sp_lingKuan"></span></td>
							</tr>
							<tr>
								<th scope="col">2</th>
								<td>领深</td>
								<td>
									<div equation>
							            <div fraction>
										    <div top>
										        2N
										    </div>
										    <div bottom>
										        10
										    </div>
										</div>
										<div add>0.5</div>
							        </div>						        
								</td>
								<td><span id="sp_lingShen"></span></td>
							</tr>
							<tr>
								<th scope="col">3</th>
								<td>SP点</td>
								<td>
									<div equation>
							            <div fraction>
										    <div top>
										        S
										    </div>
										    <div bottom>
										        2
										    </div>
										</div>
							        </div>						        
								</td>
								<td><span id="sp_SP"></span></td>
							</tr>
							<tr>
								<th scope="col">4</th>
								<td>袖笼深线</td>
								<td>
									<div equation>
							            <div fraction>
										    <div top>
										        2B
										    </div>
										    <div bottom>
										        10
										    </div>
										</div>										
										<div add>3</div>
							        </div>						        
								</td>
								<td><span id="sp_XLSX"></span></td>
							</tr>
							<tr>
								<th scope="col">5</th>
								<td>腰围线</td>
								<td>
									<div equation>
							            <div fraction>
										    <div top>
										        B
										    </div>
										    <div bottom>
										        4
										    </div>
										</div>
							        </div>						        
								</td>
								<td><span id="sp_YX"></span></td>
							</tr>
							<tr>
								<th scope="col">6</th>
								<td>腋下省</td>
								<td>
									<div equation>
							            <div fraction>
										    <div top>
										        净B
										    </div>
										    <div bottom>
										        20
										    </div>
										</div>
										<div subtract>0.7</div>
							        </div>						        
								</td>
								<td><span id="sp_CYS"></span></td>
							</tr>
							<tr>
								<th scope="col">7</th>
								<td>腰省</td>
								<td>
									<div equation>
							            <div fraction>
										    <div top>
										        B-W
										    </div>
										    <div bottom>
										        4
										    </div>
										</div>
							        </div>						        
								</td>
								<td><span id="sp_YS"></span></td>
							</tr>
							<tr>
								<th scope="col">8</th>
								<td>前宽</td>
								<td>
									<div equation>
							            <div fraction>
										    <div top>
										        2B
										    </div>
										    <div bottom>
										        10
										    </div>
										</div>										
										<div subtract>2</div>
							        </div>						        
								</td>
								<td><span id="sp_QK"></span></td>
							</tr>
							<tr>
								<th scope="col">9</th>
								<td>后领宽</td>
								<td>
									<div equation>
							            <div fraction>
										    <div top>
										        2N
										    </div>
										    <div bottom>
										        10
										    </div>
										</div>										
										<div subtract>0.3</div>
							        </div>						        
								</td>
								<td><span id="sp_HLK"></span></td>
							</tr>
							<tr>
								<th scope="col">10</th>
								<td>后领深</td>
								<td>
									<div equation>
							            <div fraction>
										    <div top>
										        0.55N
										    </div>
										    <div bottom>
										        10
										    </div>
										</div>							
							        </div>						        
								</td>
								<td><span id="sp_HLS"></span></td>
							</tr>
							<tr>
								<th scope="col">11</th>
								<td>后宽</td>
								<td>
									<div equation>
							            <div fraction>
										    <div top>
										        2B
										    </div>
										    <div bottom>
										        10
										    </div>
										</div>						
										<div subtract>1</div>						
							        </div>						        
								</td>
								<td><span id="sp_HK"></span></td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>
		</form>
	</div>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
	<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js" integrity="sha384-smHYKdLADwkXOn1EmN1qk/HfnUcbVRZyYmZ4qpPea6sjB/pTJ0euyQp0Mk8ck+5T" crossorigin="anonymous"></script>
	<script type="text/javascript">
		var nana={
			N:34,
			NLS:4,
			B:93,
			BLS:6,
			W:82,
			WLS:4,
			S:39
		};
		$(function () {
			$("input[type='number']").width(50);
			if(getUrlParam("nana")=="nana"){
				$("#N").val(nana.N);
				$("#B").val(nana.B);
				$("#W").val(nana.W);
				$("#S").val(nana.S);
			}
			$("#Math").click(function () {
				MathAll()
			})
		})
		//获取url中的参数
        function getUrlParam(name) {
            var reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)"); //构造一个含有目标参数的正则表达式对象
            var r = window.location.search.substr(1).match(reg);  //匹配目标参数
            if (r != null) return unescape(r[2]); return null; //返回参数值
        }
		function MathAll() {
			MathLingKu();
			MathLingShen();
			MathSP();
			MathXiuLongShen();
			MathCeYaoSheng();
			MathYaoSheng();
			MathQinaKuan();
		}
		//领宽
		function MathLingKu() {
			var N=parseFloat($("#N").val());
			var NLS=parseFloat($("#NLS").val());
			var val=((2*(N+NLS))/10-0.5).toFixed(2);
			$("#sp_lingKuan").text(val);

			var valH=((2*(N+NLS))/10-0.3).toFixed(2);
			$("#sp_HLK").text(valH);
		}
		//领深
		function MathLingShen() {
			var N=parseFloat($("#N").val());
			var NLS=parseFloat($("#NLS").val());
			var val=((2*(N+NLS))/10+0.5).toFixed(2);
			$("#sp_lingShen").text(val);

			var valH=((N+NLS)*0.55/10).toFixed(2);
			$("#sp_HLS").text(valH);
		}
		//SP
		function MathSP() {
			var S=parseFloat($("#S").val());
			var val=S/2;
			$("#sp_SP").text(val.toFixed(2));
		}
		//袖笼深线 && 腰线
		function MathXiuLongShen() {
			var B=parseFloat($("#B").val());
			var BLS=parseFloat($("#BLS").val());
			var val=2*(B+BLS)/10+3;
			$("#sp_XLSX").text(val.toFixed(2));
			var valYX=((B+BLS)/4).toFixed(2);
			$("#sp_YX").text(valYX);

		}
		//侧腰省
		function MathCeYaoSheng() {
			var B=parseFloat($("#B").val());
			var val=(B/20-0.7).toFixed(2);
			$("#sp_CYS").text(val);
		}
		//腰省
		function MathYaoSheng() {			
			var W=parseFloat($("#W").val());			
			var WLS=parseFloat($("#WLS").val());

			var B=parseFloat($("#B").val());
			var BLS=parseFloat($("#BLS").val());

			var val=((B+BLS)-(W+WLS))/4;
			$("#sp_YS").text(val)
		}
		//前宽
		function MathQinaKuan() {			
			var B=parseFloat($("#B").val());
			var BLS=parseFloat($("#BLS").val());
			var val=(2*(B+BLS)/10-2).toFixed(2);
			$("#sp_QK").text(val);

			var valH=(2*(B+BLS)/10-1).toFixed(2);
			$("#sp_HK").text(valH);

		}
	</script>
 </body>
</html>
